OPTI DIME 2 ELEM SEG2;

P1 = 0. 0.; P2 = 1. 1.; P3 = 1. -2.; P4 = 0. -2.;
L1 = P1 D 1 P2 D 1 P3 D 1 P4;

*P1 = -0. -0.; P2 = (2. ** 0.5) (2. ** 0.5);

OPTI DIME 3;
*P1 = -0. -0. 0.; P2 = 1. 2. 1.;
*L1 = P1 D 1 P2;

MODL1 = MODE L1 MECANIQUE ELASTIQUE ISOTROPE POUT;
MATR1 = MATE MODL1 YOUN 1. NU 0. SECT 1. INRY 1. INRZ 1. TORS 1. RHO 2.;
MATR2 = MANU CHML MODL1
  YOUN 1. NU 0. SECT 1. INR 1. INR3 1. TORS 1. RHO 2.
  GRAVITE;
RIGI1 = RIGI MODL1 MATR1;
MASS1 = MASS MODL1 MATR1;

U1 = COOR 1 L1;
U2 = COOR 2 L1;
U3 = COOR 3 L1;
XX = (EXCO SCAL (U1 * U2 + U2) UX NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U2) UY NATURE DIFFUS) ET
     (EXCO SCAL (U1 * U1 + U2) UZ NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U1 + U3) RX NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U3 + U1) RY NATURE DIFFUS) ET
     (EXCO SCAL (U1 * U3 + U1 + U2) RZ NATURE DIFFUS);
ERR1 = XTMX RIGI1 XX;
list err1;
list (ERR1 - 147.77996026);
ERR2 = XTMX MASS1 XX;
list err2;
list (ERR2 - 105.69990150);


OPTI SORT 'test_Pout3D';
SORT AVS L1 MATR2 XX;
OPTI SORT 'poub';

FIN;

