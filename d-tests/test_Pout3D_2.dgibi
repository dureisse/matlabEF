* Test de poutre d'Euler-Bernoulli 3D
OPTI DIME 2 ELEM TRI3;
P1 = 0. 0.; P2 = 10. 0.; P3 = 10. 5.; P4 = 1. 6.;
CONT1 = P1 D 5 P2 D 4 P3 D 3 P4 D 6 P1;
M1 = CONT1 SURF PLAN;
OPTI DIME 3 ELEM TET4;
MAIL1 = M1 VOLU TRAN 2 (0. 0. 3.);
MAIL1 = MAIL1 CHAN LIGNE;
MODL1 = MODE MAIL1 MECANIQUE ELASTIQUE ISOTROPE POUT;
MATR1 = MATE MODL1 YOUN 1. NU 0. SECT 1. INRY 1. INRZ 1. TORS 1. RHO 2.;
MATR2 = MANU CHML MODL1
  YOUN 1. NU 0. SECT 1. INR 1. INR1 1. INR2 1. INR3 1. TORS 1. RHO 2.
  GRAVITE;
RIGI1 = RIGI MODL1 MATR1;
MASS1 = MASS MODL1 MATR1;

U1 = COOR 1 MAIL1;
U2 = COOR 2 MAIL1;
U3 = COOR 3 MAIL1;
XX = (EXCO SCAL (U1 * U2 + U2) UX NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U2) UY NATURE DIFFUS) ET
     (EXCO SCAL (U1 * U1 + U2) UZ NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U1 + U3) RX NATURE DIFFUS) ET
     (EXCO SCAL (U2 * U3 + U1) RY NATURE DIFFUS) ET
     (EXCO SCAL (U1 * U3 + U1 + U2) RZ NATURE DIFFUS);
ERR1 = XTMX RIGI1 XX;
list (ERR1 - 1599014.7373);
ERR2 = XTMX MASS1 XX;
list err2;
list (ERR2 - 3.593499432e6);

OPTI SORT 'test_Pout3D_2';
SORT AVS MAIL1 MATR2 XX;
OPTI SORT 'poub';

FIN;
