OPTI DIME 2 ELEM TRI3;
Q1 = 0. 0.; Q2 = 0. 2.; Q3 = 0.2 0.2;
M2 = CER3 -3 Q1 Q2 Q3 DINI 0.5 DFIN 1.;
OPTI DIME 3 ELEM TET4;
P1 = 0. 0. 0.; P2 = 1. 1. 0.5;
*P1 = 0. 0. 0.; P2 = 2. 0. 0.;
M1 = P1 D -3 P2 DINI 1. DFIN 0.5; XVAL2 = 112.50;
*M1 = P1 D 2 P2;
M1 = M1 ET M2; XVAL2 = 1774.0514531105003;
ELIM M1 0.00001;

X Y Z = COOR M1;
C1 = (EXCO SCAL X UX) ET (EXCO SCAL Y UY) ET (EXCO SCAL Z UZ);

MODLT1 = MODE M1 MECANIQUE ELASTIQUE BARR;
MATR1 = MATE MODLT1 RHO 100. SECT 1.;
RIGI1 = MASS MODLT1 MATR1;
XVAL1 = XTMX C1 RIGI1;
list (XVAL1 - 1774.0514531105003);
MESS 'XVAL1' XVAL1;

OPTI SORT 'test_Mass_4';
SORT AVS M1 C1 MATR1;
OPTI SORT 'poub';

FIN;
