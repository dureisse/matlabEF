OPTI DIME 3 ELEM TRI3;
P1 = 0. 0. 0.;
P2 = 1. 0. 0.;
P1e LI1 = @HELICE P1 'POIN' (0. 0. -0.5) (0. 1. 0.) 10. 45. 10;
P2e LI2 = @HELICE P2 'POIN' (0. 0. 0.5) (0. 1. 0.) 10. 45. 10;
M1 = LI1 REGLER 2 LI2;

MODL1 = MODE M1 MECANIQUE ELASTIQUE DKT;
MATR1 = MATE MODL1 YOUN 1. NU 0.3 EPAI 0.1;
RIGI1 = RIGI MODL1 MATR1;

X1 = COOR 1 M1;
Y1 = COOR 2 M1;
Z1 = COOR 3 M1;
U1 = (EXCO SCAL (X1**2) UX) ET (EXCO SCAL Y1 UY) ET
     (EXCO SCAL X1 UZ) ET (EXCO SCAL (X1 + Y1) RX) ET
     (EXCO SCAL (Y1 - X1) RY) ET (EXCO SCAL X1 RZ);

XVAL1 = XTMX RIGI1 U1;
list xval1;
list (xval1 - 0.17669405123);

OPTI SORT 'test_DKT_2';
SORT AVS M1 U1 MATR1;
OPTI SORT 'poub';

FIN;
