* test_WriteLChGMSH4_2.dgibi genere test_WriteLChGMSH4_2.inp
* test_WriteLChGMSH4_2.m genere test_WriteLChGMSH4_2.msh
LTRAC1 = FAUX;

SI (1 EGA 0);
OPTI DIME 3 ELEM SEG2;
P1 = 0. 0. 0.;
P2 = 1. 0. 0.;
N1 = 4;
M1 = P1 D N1 P2;
C1 = COOR 1 M1;

OPTI DIME 3 ELEM TRI3;
P1 = 0. 0. 0.;
P2 = 1. 0. 0.;
P3 = 0. 1. 0.;
M1 = MANU TRI3 P1 P2 P3;
C1 = (COOR 1 M1) + (0.1*(COOR 2 M1));
C1 = (EXCO C1 SCAL UX) ET (EXCO (0.9*C1) SCAL UY) ET
     (EXCO (0.8*C1) SCAL UZ);
MODL1 = M1 MODE MECANIQUE ELASTIQUE;
CH1 = CHAN C1 'CHAM' MODL1 'GRAVITE';
FINSI;

OPTI DIME 3 ELEM QUA4;
P1 = 0. 0. 0.;
P2 = 1. 0. 0.;
P3 = 0. 1. 0.;
P4 = 1. 1. 0.;
M1 = MANU QUA4 P1 P2 P4 P3;
M1 = M1 ET (M1 SYME DROIT P1 P2);
**M1 = M1 CHAN QUA8;
**M1 = M1 CHAN TRI3;
**OPTI ELEM CUB8;
**M1 = M1 VOLU TRANS 2 (0. 0. 2.);
C1 = (COOR 1 M1) + (0.1*(COOR 2 M1));
C1 = (EXCO C1 SCAL UX) ET (EXCO (0.9*C1) SCAL UY) ET
     (EXCO (0.8*C1) SCAL UZ) ET
     (EXCO (0.*C1) SCAL 'ZERO') ;

MODL1 = M1 MODE MECANIQUE ELASTIQUE;
CH1 = CHAN C1 'CHAM' MODL1 'GRAVITE';
SI (LTRAC1);
  TRAC C1 M1;
  TRAC CH1 MODL1 M1;
FINSI;


OPTI SORT 'test_WriteLChGMSH4_2';
SORT AVS M1 C1 CH1;
OPTI SORT 'poub';

FIN;
