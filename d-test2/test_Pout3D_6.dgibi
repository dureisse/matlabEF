* Test de poutre d'Euler-Bernoulli 3D
LTRAC1 = FAUX;

OPTI DIME 2 ELEM SEG2;
P1 = 0. 0.;
P2 = 0. 1.;
P3 = 0.5 1.;
MAIL1 = P1 D 10 P2 D 5 P3;
OPTI DIME 3 ELEM SEG2;
MODL1 = MODE MAIL1 MECANIQUE ELASTIQUE ISOTROPE POUT;
MATR1 = MATE MODL1 YOUN 1. NU 0.3 SECT 1. 
     TORS 1. INRY 1.5 INRZ 1.5;
MATR2 = MANU CHML MODL1
  YOUN 1. NU 0. SECT 1.
  TORS 1. INR 1.5 GRAVITE;
RIGI1 = RIGI MODL1 MATR1;

X1 Y1 Z1 = COOR MAIL1;
XX = (EXCO SCAL ((X1 * Y1) + Y1) UX  NATURE DIFFUS) ET
     (EXCO SCAL (X1 + Y1) UY  NATURE DIFFUS) ET
     (EXCO SCAL (Y1 - X1) UZ  NATURE DIFFUS) ET
     (EXCO SCAL (0.1 * (X1 - Y1)) RX  NATURE DIFFUS) ET
     (EXCO SCAL (0.2 * (X1 + Y1)) RY  NATURE DIFFUS) ET
     (EXCO SCAL (0.15 * (Y1 - X1)) RZ  NATURE DIFFUS);
ERR1 = XTMX RIGI1 XX;
LIST ERR1;
list (ERR1 - 5287.3298077);
SI LTRAC1;
  DEFO0 = DEFO MAIL1 XX 0. BLAN;
  DEFO1 = DEFO MAIL1 XX ROUG;
  TRAC (DEFO0 ET DEFO1) MAIL1;
  TRAC (EXCO RZ XX) MAIL1;
FINSI;

OPTI SORT 'test_Pout3D_6';
SORT AVS MAIL1 MATR2 XX;
OPTI SORT 'poub';

FIN;
